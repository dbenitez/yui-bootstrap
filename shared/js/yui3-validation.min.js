YUI().add("validation",function(d){d.Object.every=function(g,f){g=g||function(h){return h};var e=true;this.each(function(i,h){e=e&&!!g.call(f,i,h,this);if(!e){throw $break}},this);return e};var a={},c={},b="input, textarea, select";a=function(e){a.superclass.constructor.apply(this,arguments)};a.NAME="validator";a.ATTRS={};d.extend(a,d.Base,{constructor:a,initializer:function(e){this.options=d.Object(e.options||{});if(d.Lang.isFunction(e.test)){this._test=e.test}else{this._test=function(){return true}}this.error=e.error||"Validation failed.";this.className=e.className},test:function(e,f){return(this._test(e,f)&&d.Object.every(this.options,function(h,g){return a.methods[g]?a.methods[g](e,f,opt):true}))}});a.methods={pattern:function(e,g,f){return c.getValidator("IsEmpty").test(e)||f.test(e)},minLength:function(e,g,f){return e.length>=f},maxLength:function(e,g,f){return e.length<=f},min:function(e,g,f){return e>=parseFloat(f)},max:function(e,g,f){return e<=parseFloat(f)},notOneOf:function(e,g,f){return d.Array(f).all(function(h){return e!==h})},oneOf:function(e,g,f){return d.Array(f).any(function(h){return e===h})},is:function(e,g,f){return e===f},isNot:function(e,g,f){return e!==f},equalToField:function(e,g,f){return e===$F(f)},notEqualToField:function(e,g,f){return e!==$F(f)},include:function(e,g,f){return d.Array(f).all(function(h){return c.getValidator(h).test(e,g)})}};d.Validator=a;c=function(e){c.superclass.constructor.apply(this,arguments)};c.NAME="validation";c.ATTRS={node:{value:null,setter:function(e){var f=d.one(e);if(!f){d.log("Validation: Invalid Node Given: "+e)}return f}},onSubmit:{value:true},stopOnFirst:{value:false},immediate:{value:false},focusOnError:{value:false},useTitles:{value:false},beforeFormValidate:{value:function(e){}},onFormValidate:{value:function(e,f){}},onElementValidate:{value:function(e,f){}},onReset:{value:function(e,f){}}};d.extend(c,d.Base,{initializer:function(e){if(this.get("onSubmit")){this.get("node").on("submit",this.onSubmit,this)}if(this.get("immediate")){var f=this.get("useTitles");var g=this.get("onElementValidate");this.get("node").all(b).on("blur",function(h){c.validate(h.currentTarget,{useTitle:f,onElementValidate:g})})}},onSubmit:function(f){if(!this.validate()){f.preventDefault()}},validate:function(){var e=false;var h=this.get("useTitles");var j=this.get("onElementValidate");var f=this.get("node");if(this.get("stopOnFirst")){e=f.all(b).every(function(i){return c.validate(elm,{useTitle:h,onElementValidate:j})})}else{e=d.Array(f.all(b)._nodes).map(function(i){return c.validate(i,{useTitle:h,onElementValidate:j})})}if(d.Lang.isArray(e)&&e.length>0){for(var g=0;g<e.length;g++){if(e[g]==false){e=false;break}}if(e!=false){e=true}}if(!e&&this.get("focusOnError")){f.all("input.validation-failed, textarea.validation-failed, select.validation-failed").item(0).focus()}this.get("onFormValidate").call(this,e,f);return e},reset:function(){$form.all(b).each(c.reset);this.get("onReset").call(this,$form)}},{validate:function(i,g){g=d.merge({useTitle:false,onElementValidate:function(j,k){}},g||{});i=d.one(i);var f=i.get("className");var h=f.length>0?d.Array(i.get("className").split(/\s+/)):[];var e=h.every(function(j){var l=c.test(j,i,g.useTitle);g.onElementValidate(l,i);var k=i.ancestor(".control-group");if(k){k.removeClass("(warning|error|success)");k.addClass((l==true)?"success":"error")}return l});return e},test:function(g,l,j){var e=c.getValidator(g);var k="__advice"+g.camelize(g);if(c.isVisible(l)&&!e.test(d.Form.Element.getValue(l),l)){if(!l.getData(k)){var f=c.getAdvice(g,l);if(f===null){var h=j?l.get("title"):(l.getData("validation-error")||l.getData("validation-"+g+"-error")||e.error);f=d.Node.create('<div class="help-inline validation-advice fade" id="advice-'+g+"-"+c.getElmID(l)+'" style="display:none">'+h+"</div>");var i=l.ancestor();switch(l.getAttribute("type").toLowerCase()){case"checkbox":case"radio":if(i){i.get("children").pop().insert(f,"after")}else{l.insert(f,"after")}break;default:if(i.hasClass("(input-append|input-prepend)")){i.insert(f,"after")}else{l.insert(f,"after")}}f=c.getAdvice(g,l)}f.setStyle("display",f.hasClass("help-inline")?"inline-block":"block");if(f.hasClass("fade")){f.addClass("in")}}l.setData(k,true);l.removeClass("validation-passed");l.addClass("validation-failed");return false}else{var f=c.getAdvice(g,l);if(f!=null){if(f.hasClass("fade")){f.removeClass("in");f.setStyle("display","none")}else{f.setStyle("display","none")}}l.setData(k,null);l.removeClass("validation-failed");l.addClass("validation-passed");return true}},isVisible:function(e){while(e.get("tagName")!="BODY"){if(e.getComputedStyle("display")=="none"){return false}e=e.ancestor()}return true},getAdvice:function(e,f){return d.one("#advice-"+e+"-"+c.getElmID(f))||d.one("#advice-"+c.getElmID(f))},getElmID:function(e){return e.get("id")||e.get("name")},reset:function(g){g=d.one(g);var e=g.get("className");var f=e.length>0?e.split(/\s+/):[];f.each(function(i){var j="__advice"+i.camelize();if(g.getData(j)){var h=c.getAdvice(i,g);h.hide();g.setData(j,null)}g.removeClass("(validation-failed|validation-passed)");g.ancestor(".control-group").removeClass("(warning|error|success)")})},add:function(f){var e={};f=d.merge({options:{},error:""},f);e[f.className]=new a(f);d.aggregate(c.methods,e,true)},addAllThese:function(e){var f={};d.Array(e).forEach(function(g){g=d.merge({options:{},error:""},g);f[g.className]=new a(g)});d.aggregate(c.methods,f)},getValidator:function(e){return c.methods[e]?c.methods[e]:c.methods._LikeNoIDIEverSaw_},methods:{_LikeNoIDIEverSaw_:new d.Validator({className:"_LikeNoIDIEverSaw_",error:"",test:{}})}});c.add({className:"IsEmpty",error:"",test:function(e){return((e==null)||(e.length==0))}});c.addAllThese([{className:"required",error:"This is a required field.",test:function(e){return !c.getValidator("IsEmpty").test(e)}},{className:"validate-number",error:"Please enter a valid number in this field.",test:function(e){return !c.getValidator("IsEmpty").test(e)}},{className:"validate-digits",error:"Please use numbers only in this field. please avoid spaces or other characters such as dots or commas.",test:function(e){return c.getValidator("IsEmpty").test(e)||!/[^\d]/.test(e)}},{className:"validate-alpha",error:"Please use letters only (a-z) in this field.",test:function(e){return c.getValidator("IsEmpty").test(e)||/^[a-zA-Z]+$/.test(e)}},{className:"validate-alphanum",error:"Please use only letters (a-z) or numbers (0-9) only in this field. No spaces or other characters are allowed.",test:function(e){return c.getValidator("IsEmpty").test(e)||!/\W/.test(e)}},{className:"validate-date",error:"Please enter a valid date.",test:function(e){if(c.getValidator("IsEmpty").test(e)){return true}var g=/^(\d{2})\/(\d{2})\/(\d{4})$/;var f=/^(\d{4})-(\d{2})-(\d{2})$/;if(g.test(e)){var h=new Date(e);return(parseInt(RegExp.$1,10)==(1+h.getMonth()))&&(parseInt(RegExp.$2,10)==h.getDate())&&(parseInt(RegExp.$3,10)==h.getFullYear())}else{if(f.test(e)){var h=new Date(e.replace(f,"$2/$3/$1"));return(parseInt(RegExp.$2,10)==(1+h.getMonth()))&&(parseInt(RegExp.$3,10)==h.getDate())&&(parseInt(RegExp.$1,10)==h.getFullYear())}else{return false}}}},{className:"validate-email",error:"Please enter a valid email address. For example fred@domain.com.",test:function(e){return c.getValidator("IsEmpty").test(e)||/\w{1,}[@][\w\-]{1,}([.]([\w\-]{1,})){1,3}$/.test(e)}},{className:"validate-url",error:"Please enter a valid URL.",test:function(e){return c.getValidator("IsEmpty").test(e)||/^(http|https|ftp):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i.test(e)}},{className:"validate-date-au",error:"Please use this date format: mm/dd/yyyy. For example 03/17/2006 for the 17th of March, 2006.",test:function(e){if(c.getValidator("IsEmpty").test(e)){return true}var g=/^(\d{2})\/(\d{2})\/(\d{4})$/;var f=/^(\d{4})-(\d{2})-(\d{2})$/;if(g.test(e)){var h=new Date(e.replace(g,"$1/$2/$3"));return(parseInt(RegExp.$1,10)==(1+h.getMonth()))&&(parseInt(RegExp.$2,10)==h.getDate())&&(parseInt(RegExp.$3,10)==h.getFullYear())}else{if(f.test(e)){var h=new Date(e.replace(f,"$2/$3/$1"));return(parseInt(RegExp.$2,10)==(1+h.getMonth()))&&(parseInt(RegExp.$3,10)==h.getDate())&&(parseInt(RegExp.$1,10)==h.getFullYear())}else{return false}}}},{className:"validate-currency-dollar",error:"Please enter a valid $ amount. For example $100.00 .",test:function(e){return c.getValidator("IsEmpty").test(e)||/^\$?\-?([1-9]{1}[0-9]{0,2}(\,[0-9]{3})*(\.[0-9]{0,2})?|[1-9]{1}\d*(\.[0-9]{0,2})?|0(\.[0-9]{0,2})?|(\.[0-9]{1,2})?)$/.test(e)}},{className:"validate-selection",error:"Please make a selection",test:function(e){return elm.options?elm.selectedIndex>0:!c.getValidator("IsEmpty").test(e)}},{className:"validate-one-required",error:"Please select one of the above options.",test:function(e){var g=elm.parentNode;if(g.tagName=="LABEL"){g=g.parentNode}var f=g.getElementsByTagName("INPUT");return any(f,function(h){return Form.getValue(h)})}},{className:"validate-regex",error:"Please enter a valid value",test:function(e){var f=RegExp(elm.getAttribute("regex"));return c.getValidator("IsEmpty").test(e)||(f&&e.match(f))}},{className:"validate-equalto",error:"Please enter a valid value",test:function(e){var f=Dom.get(elm.getAttribute("data-validation-equalto"));return c.getValidator("IsEmpty").test(e)||(f&&f.value==e)}},]);d.Validation=c},"1.0.1",{requires:["base","node","event","array-extras","form"]});